{"version":3,"sources":["../src/index.ts","../src/commands/login.ts","../src/api/client.ts","../src/commands/search.ts","../src/commands/list.ts","../src/config/manager.ts","../src/agents/types.ts","../src/agents/claude-code.ts","../src/agents/cursor.ts","../src/agents/copilot.ts","../src/agents/index.ts","../src/commands/add.ts","../src/commands/remove.ts"],"sourcesContent":["#!/usr/bin/env node\n\nimport { Command } from 'commander';\nimport chalk from 'chalk';\nimport { login, logout, whoami } from './commands/login.js';\nimport { search, info } from './commands/search.js';\nimport { list } from './commands/list.js';\nimport { add } from './commands/add.js';\nimport { remove } from './commands/remove.js';\nimport { isAuthenticated } from './api/client.js';\n\nconst program = new Command();\n\nprogram\n  .name('skillhub')\n  .description('CLI tool for SkillHub enterprise skill marketplace')\n  .version('1.0.0');\n\n// Login command\nprogram\n  .command('login')\n  .description('Authenticate with SkillHub marketplace')\n  .argument('[token]', 'API token (optional, will prompt if not provided)')\n  .option('-u, --url <url>', 'SkillHub API URL')\n  .action(async (token: string | undefined, options: { url?: string }) => {\n    await login(token, options.url);\n  });\n\n// Logout command\nprogram\n  .command('logout')\n  .description('Remove stored authentication')\n  .action(async () => {\n    await logout();\n  });\n\n// Whoami command\nprogram\n  .command('whoami')\n  .description('Show current authenticated user')\n  .action(async () => {\n    await whoami();\n  });\n\n// Search command\nprogram\n  .command('search <query>')\n  .description('Search for skills in the marketplace')\n  .option('-l, --limit <number>', 'Maximum number of results', '20')\n  .option('-c, --category <category>', 'Filter by category')\n  .action(async (query: string, options: { limit: string; category?: string }) => {\n    await search(query, {\n      limit: parseInt(options.limit),\n      category: options.category,\n    });\n  });\n\n// Info command\nprogram\n  .command('info <skill>')\n  .description('Get detailed information about a skill')\n  .action(async (skillSlug: string) => {\n    await info(skillSlug);\n  });\n\n// List command\nprogram\n  .command('list')\n  .alias('ls')\n  .description('List installed skills')\n  .option('-j, --json', 'Output as JSON')\n  .option('-a, --agent <agent>', 'Filter by agent')\n  .action(async (options: { json?: boolean; agent?: string }) => {\n    await list(options);\n  });\n\n// Add command\nprogram\n  .command('add <skill>')\n  .description('Install a skill to your agents')\n  .option('-a, --agents <agents>', 'Target agents (comma-separated)')\n  .option('-g, --global', 'Install globally to user directory')\n  .option('-v, --version <version>', 'Specific version to install')\n  .option('--all', 'Install to all available agents')\n  .action(async (skillSlug: string, options: { agents?: string; global?: boolean; version?: string; all?: boolean }) => {\n    const agents = options.agents ? options.agents.split(',') : undefined;\n    await add(skillSlug, {\n      agents,\n      global: options.global,\n      version: options.version,\n      all: options.all,\n    });\n  });\n\n// Remove command\nprogram\n  .command('remove [skill]')\n  .alias('rm')\n  .description('Remove an installed skill')\n  .option('-g, --global', 'Remove from global scope')\n  .option('-a, --agents <agents>', 'Remove from specific agents (comma-separated)')\n  .option('--all', 'Remove from all agents')\n  .action(async (skillSlug: string | undefined, options: { global?: boolean; agents?: string; all?: boolean }) => {\n    if (!skillSlug) {\n      console.log(chalk.yellow('Please specify a skill to remove.'));\n      console.log(chalk.gray('Usage: skillhub remove <skill-name>'));\n      return;\n    }\n    const agents = options.agents ? options.agents.split(',') : undefined;\n    await remove(skillSlug, {\n      global: options.global,\n      agents,\n      all: options.all,\n    });\n  });\n\n// Add error handling for unauthenticated commands\nprogram.hook('preAction', async (_thisCommand, actionCommand) => {\n  const commandsRequiringAuth = ['add', 'remove', 'upload'];\n  const commandName = actionCommand.name();\n\n  if (commandsRequiringAuth.includes(commandName) && !isAuthenticated()) {\n    console.log(chalk.red('You must be logged in to use this command.'));\n    console.log(chalk.gray('Run `skillhub login` first.'));\n    process.exit(1);\n  }\n});\n\n// Parse arguments\nprogram.parse();\n","import chalk from 'chalk';\nimport ora from 'ora';\nimport { confirm, password } from '@inquirer/prompts';\nimport { setConfig, apiRequest, isAuthenticated, getConfig } from '../api/client.js';\nimport type { CliVersionResponse } from '../api/types.js';\n\nexport async function login(token?: string, apiUrl?: string): Promise<void> {\n  console.log(chalk.blue('SkillHub CLI Login\\n'));\n\n  // Update API URL if provided\n  if (apiUrl) {\n    setConfig({ apiUrl });\n    console.log(chalk.gray(`Using API URL: ${apiUrl}`));\n  }\n\n  // If already authenticated, show info\n  if (isAuthenticated()) {\n    const cfg = getConfig();\n    console.log(chalk.yellow('Already authenticated as:'));\n    console.log(chalk.gray(`  Email: ${cfg.email}`));\n    console.log(chalk.gray(`  API URL: ${cfg.apiUrl}`));\n    console.log();\n\n    const proceed = await confirm({\n      message: 'Do you want to login with a different token?',\n      default: false,\n    });\n    if (!proceed) {\n      return;\n    }\n  }\n\n  // Get token if not provided\n  let apiToken = token;\n  if (!apiToken) {\n    apiToken = await password({\n      message: 'Enter your API token:',\n      mask: '*',\n      validate: (input: string) => {\n        if (!input.trim()) {\n          return 'Token is required';\n        }\n        if (!input.startsWith('sh_')) {\n          return 'Invalid token format. Token should start with \"sh_\"';\n        }\n        return true;\n      },\n    });\n  }\n\n  // Validate token format\n  if (!apiToken || !apiToken.startsWith('sh_')) {\n    console.log(chalk.red('Invalid token format. Token should start with \"sh_\"'));\n    process.exit(1);\n  }\n\n  const spinner = ora('Validating token...').start();\n\n  // Temporarily set token for validation\n  setConfig({ token: apiToken });\n\n  const response = await apiRequest<CliVersionResponse>('/api/cli/version');\n\n  if (response.error || !response.data?.authenticated) {\n    spinner.fail('Token validation failed');\n    console.log(chalk.red(response.error?.error || 'Invalid token'));\n    setConfig({ token: undefined });\n    process.exit(1);\n  }\n\n  spinner.succeed('Token validated successfully!');\n\n  // Save user info\n  const user = response.data.user;\n  setConfig({\n    token: apiToken,\n    userId: user?.id,\n    email: user?.email,\n  });\n\n  console.log();\n  console.log(chalk.green('Logged in successfully!'));\n  console.log(chalk.gray(`  Email: ${user?.email}`));\n  console.log(chalk.gray(`  Role: ${user?.role}`));\n  if (user?.scopes) {\n    console.log(chalk.gray(`  Scopes: ${user.scopes.join(', ')}`));\n  }\n  console.log();\n  console.log(chalk.blue('You can now use the SkillHub CLI to manage skills.'));\n}\n\nexport async function logout(): Promise<void> {\n  console.log(chalk.blue('SkillHub CLI Logout\\n'));\n\n  if (!isAuthenticated()) {\n    console.log(chalk.yellow('You are not logged in.'));\n    return;\n  }\n\n  setConfig({\n    token: undefined,\n    userId: undefined,\n    email: undefined,\n  });\n\n  console.log(chalk.green('Logged out successfully!'));\n}\n\nexport async function whoami(): Promise<void> {\n  if (!isAuthenticated()) {\n    console.log(chalk.yellow('You are not logged in.'));\n    console.log(chalk.gray('Run `skillhub login` to authenticate.'));\n    return;\n  }\n\n  const cfg = getConfig();\n  console.log(chalk.blue('Current user:'));\n  console.log(chalk.gray(`  Email: ${cfg.email}`));\n  console.log(chalk.gray(`  User ID: ${cfg.userId}`));\n  console.log(chalk.gray(`  API URL: ${cfg.apiUrl}`));\n}\n","import { request } from 'undici';\nimport Conf from 'conf';\nimport chalk from 'chalk';\n\nexport interface SkillHubConfig {\n  apiUrl: string;\n  token?: string;\n  userId?: string;\n  email?: string;\n}\n\nexport interface ApiError {\n  error: string;\n  message?: string;\n}\n\nexport interface ApiResponse<T> {\n  data?: T;\n  error?: ApiError;\n  status: number;\n}\n\nconst config = new Conf<{ config: SkillHubConfig }>({\n  projectName: 'skillhub',\n  configName: 'config',\n  defaults: {\n    config: {\n      apiUrl: 'http://localhost:3000',\n    },\n  },\n});\n\nexport function getConfig(): SkillHubConfig {\n  return config.get('config');\n}\n\nexport function setConfig(newConfig: Partial<SkillHubConfig>): void {\n  const currentConfig = config.get('config');\n  config.set('config', { ...currentConfig, ...newConfig });\n}\n\nexport function clearConfig(): void {\n  config.clear();\n}\n\nexport function isAuthenticated(): boolean {\n  const cfg = getConfig();\n  return !!cfg.token;\n}\n\ninterface RequestOptions {\n  method?: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n  body?: unknown;\n  headers?: Record<string, string>;\n}\n\nexport async function apiRequest<T>(\n  endpoint: string,\n  options: RequestOptions = {}\n): Promise<ApiResponse<T>> {\n  const cfg = getConfig();\n  const { method = 'GET', body, headers = {} } = options;\n\n  const url = `${cfg.apiUrl}${endpoint}`;\n\n  const requestHeaders: Record<string, string> = {\n    'Content-Type': 'application/json',\n    ...headers,\n  };\n\n  if (cfg.token) {\n    requestHeaders['Authorization'] = `Bearer ${cfg.token}`;\n  }\n\n  try {\n    const response = await request(url, {\n      method,\n      headers: requestHeaders,\n      body: body ? JSON.stringify(body) : undefined,\n    });\n\n    const statusCode = response.statusCode;\n    let data: T | undefined;\n    let error: ApiError | undefined;\n\n    const responseBody = await response.body.text();\n    if (responseBody) {\n      try {\n        const parsed = JSON.parse(responseBody);\n        if (statusCode >= 400) {\n          error = parsed;\n        } else {\n          data = parsed;\n        }\n      } catch {\n        if (statusCode >= 400) {\n          error = { error: responseBody };\n        }\n      }\n    }\n\n    return { data, error, status: statusCode };\n  } catch (err) {\n    const errorMessage = err instanceof Error ? err.message : 'Unknown error';\n    console.error(chalk.red(`API request failed: ${errorMessage}`));\n    return { error: { error: errorMessage }, status: 0 };\n  }\n}\n\nexport async function downloadFile(url: string): Promise<Buffer> {\n  const response = await request(url, {\n    method: 'GET',\n  });\n\n  if (response.statusCode !== 200) {\n    throw new Error(`Download failed with status ${response.statusCode}`);\n  }\n\n  const chunks: Uint8Array[] = [];\n  for await (const chunk of response.body) {\n    chunks.push(chunk);\n  }\n\n  return Buffer.concat(chunks);\n}\n","import chalk from 'chalk';\nimport Table from 'cli-table3';\nimport ora from 'ora';\nimport { apiRequest, isAuthenticated } from '../api/client.js';\nimport type { SkillListResponse } from '../api/types.js';\n\nexport async function search(query: string, options: { limit?: number; category?: string } = {}): Promise<void> {\n  const spinner = ora('Searching skills...').start();\n\n  const params = new URLSearchParams();\n  if (query) {\n    params.set('search', query);\n  }\n  if (options.limit) {\n    params.set('limit', String(options.limit));\n  }\n  if (options.category) {\n    params.set('category', options.category);\n  }\n  // Only show public skills unless authenticated\n  if (!isAuthenticated()) {\n    params.set('visibility', 'PUBLIC');\n  }\n\n  const response = await apiRequest<SkillListResponse>(`/api/skills?${params.toString()}`);\n\n  if (response.error) {\n    spinner.fail('Search failed');\n    console.log(chalk.red(response.error.error));\n    process.exit(1);\n  }\n\n  spinner.stop();\n\n  const skills = response.data?.skills || [];\n  const total = response.data?.total || 0;\n\n  if (skills.length === 0) {\n    console.log(chalk.yellow('No skills found matching your query.'));\n    return;\n  }\n\n  console.log(chalk.blue(`\\nFound ${total} skill(s)\\n`));\n\n  const table = new Table({\n    head: [chalk.cyan('Name'), chalk.cyan('Description'), chalk.cyan('Category'), chalk.cyan('Downloads')],\n    colWidths: [25, 50, 15, 12],\n    wordWrap: true,\n  });\n\n  for (const skill of skills) {\n    table.push([\n      skill.slug,\n      skill.description?.substring(0, 47) + (skill.description && skill.description.length > 47 ? '...' : '') || '-',\n      skill.category.replace('_', ' '),\n      skill.stats?.downloadsCount?.toString() || '0',\n    ]);\n  }\n\n  console.log(table.toString());\n  console.log();\n}\n\nexport async function info(skillSlug: string): Promise<void> {\n  const spinner = ora(`Fetching skill \"${skillSlug}\"...`).start();\n\n  // First search by slug\n  const params = new URLSearchParams();\n  params.set('search', skillSlug);\n  params.set('limit', '1');\n\n  const response = await apiRequest<SkillListResponse>(`/api/skills?${params.toString()}`);\n\n  if (response.error || !response.data?.skills?.length) {\n    spinner.fail('Skill not found');\n    console.log(chalk.red(response.error?.error || `Skill \"${skillSlug}\" not found`));\n    process.exit(1);\n  }\n\n  const skill = response.data.skills[0];\n  spinner.succeed('Skill found');\n\n  console.log();\n  console.log(chalk.blue.bold(skill.name));\n  console.log(chalk.gray('â”€'.repeat(50)));\n  console.log();\n\n  console.log(chalk.cyan('Slug:'), skill.slug);\n  console.log(chalk.cyan('ID:'), skill.id);\n  console.log(chalk.cyan('Category:'), skill.category.replace('_', ' '));\n  console.log(chalk.cyan('Visibility:'), skill.visibility);\n\n  if (skill.tags.length > 0) {\n    console.log(chalk.cyan('Tags:'), skill.tags.join(', '));\n  }\n\n  if (skill.author) {\n    console.log(chalk.cyan('Author:'), skill.author.name || skill.author.email);\n  }\n\n  if (skill.team) {\n    console.log(chalk.cyan('Team:'), skill.team.name);\n  }\n\n  if (skill.stats) {\n    console.log(chalk.cyan('Downloads:'), skill.stats.downloadsCount);\n    console.log(chalk.cyan('Views:'), skill.stats.viewsCount);\n  }\n\n  if (skill.versions?.length) {\n    const latestVersion = skill.versions[0];\n    console.log(chalk.cyan('Latest Version:'), latestVersion.version);\n    console.log(chalk.cyan('Status:'), latestVersion.status);\n  }\n\n  if (skill.description) {\n    console.log();\n    console.log(chalk.cyan('Description:'));\n    console.log(chalk.white(skill.description));\n  }\n\n  console.log();\n}\n","import chalk from 'chalk';\nimport Table from 'cli-table3';\nimport { getInstalledSkills } from '../config/manager.js';\nimport { getAllAgents, getAgent } from '../agents/index.js';\n\nexport async function list(options: { json?: boolean; agent?: string } = {}): Promise<void> {\n  const skills = getInstalledSkills();\n\n  if (skills.length === 0) {\n    console.log(chalk.yellow('No skills installed.'));\n    console.log(chalk.gray('Run `skillhub search <query>` to find skills to install.'));\n    return;\n  }\n\n  if (options.agent) {\n    const agent = getAgent(options.agent);\n    if (!agent) {\n      console.log(chalk.red(`Unknown agent: ${options.agent}`));\n      console.log(chalk.gray(`Available agents: ${getAllAgents().map((a) => a.id).join(', ')}`));\n      process.exit(1);\n    }\n  }\n\n  if (options.json) {\n    console.log(JSON.stringify(skills, null, 2));\n    return;\n  }\n\n  console.log(chalk.blue(`\\nInstalled Skills (${skills.length})\\n`));\n\n  const table = new Table({\n    head: [chalk.cyan('Name'), chalk.cyan('Version'), chalk.cyan('Agents'), chalk.cyan('Installed')],\n    colWidths: [25, 10, 30, 15],\n    wordWrap: true,\n  });\n\n  for (const skill of skills) {\n    const agentsDisplay = skill.installedTo.join(', ') || '-';\n    const installedDate = new Date(skill.installedAt).toLocaleDateString();\n    table.push([skill.slug, skill.version, agentsDisplay, installedDate]);\n  }\n\n  console.log(table.toString());\n  console.log();\n}\n","import Conf from 'conf';\nimport type { InstalledSkill } from '../api/types.js';\n\ninterface SkillHubInstalled {\n  version: string;\n  skills: InstalledSkill[];\n}\n\nconst installedConfig = new Conf<SkillHubInstalled>({\n  projectName: 'skillhub',\n  configName: 'installed',\n  defaults: {\n    version: '1.0',\n    skills: [],\n  },\n});\n\nexport function getInstalledSkills(): InstalledSkill[] {\n  return installedConfig.get('skills') || [];\n}\n\nexport function addInstalledSkill(skill: InstalledSkill): void {\n  const skills = getInstalledSkills();\n  const existingIndex = skills.findIndex((s) => s.slug === skill.slug);\n\n  if (existingIndex >= 0) {\n    skills[existingIndex] = skill;\n  } else {\n    skills.push(skill);\n  }\n\n  installedConfig.set('skills', skills);\n}\n\nexport function removeInstalledSkill(slug: string): boolean {\n  const skills = getInstalledSkills();\n  const index = skills.findIndex((s) => s.slug === slug);\n\n  if (index >= 0) {\n    skills.splice(index, 1);\n    installedConfig.set('skills', skills);\n    return true;\n  }\n\n  return false;\n}\n\nexport function getInstalledSkill(slug: string): InstalledSkill | undefined {\n  const skills = getInstalledSkills();\n  return skills.find((s) => s.slug === slug);\n}\n","import type { InstalledSkill } from '../api/types.js';\n\nexport interface ConfigPath {\n  type: 'global' | 'project';\n  path: string;\n  filename: string;\n}\n\nexport interface InstallOptions {\n  global?: boolean;\n  projectRoot?: string;\n}\n\nexport interface Agent {\n  name: string;\n  id: string;\n  configPaths: ConfigPath[];\n  format: 'markdown' | 'yaml' | 'json' | 'custom';\n\n  install(skill: InstalledSkill, options: InstallOptions): Promise<string>;\n  uninstall(skillSlug: string, options: InstallOptions): Promise<boolean>;\n  isInstalled(skillSlug: string, options: InstallOptions): Promise<boolean>;\n}\n\nexport const AGENT_REGISTRY: Map<string, Agent> = new Map();\n\nexport function registerAgent(agent: Agent): void {\n  AGENT_REGISTRY.set(agent.id, agent);\n}\n\nexport function getAgent(id: string): Agent | undefined {\n  return AGENT_REGISTRY.get(id);\n}\n\nexport function getAllAgents(): Agent[] {\n  return Array.from(AGENT_REGISTRY.values());\n}\n\nexport function getAgentIds(): string[] {\n  return Array.from(AGENT_REGISTRY.keys());\n}\n","import * as fs from 'fs-extra';\nimport * as path from 'path';\nimport * as os from 'os';\nimport type { Agent, ConfigPath, InstallOptions } from './types.js';\nimport type { InstalledSkill } from '../api/types.js';\n\nconst configPaths: ConfigPath[] = [\n  { type: 'project', path: '.claude', filename: 'CLAUDE.md' },\n  { type: 'global', path: '.claude', filename: 'CLAUDE.md' },\n];\n\nfunction getConfigPath(options: InstallOptions): string {\n  if (options.global) {\n    return path.join(os.homedir(), '.claude', 'CLAUDE.md');\n  }\n  const projectRoot = options.projectRoot || process.cwd();\n  return path.join(projectRoot, '.claude', 'CLAUDE.md');\n}\n\nfunction getStartMarker(slug: string): string {\n  return `<!-- SKILLHUB:START:${slug} -->`;\n}\n\nfunction getEndMarker(slug: string): string {\n  return `<!-- SKILLHUB:END:${slug} -->`;\n}\n\nexport const claudeCodeAgent: Agent = {\n  name: 'Claude Code',\n  id: 'claude-code',\n  configPaths,\n  format: 'markdown',\n\n  async install(skill: InstalledSkill, options: InstallOptions): Promise<string> {\n    const configPath = getConfigPath(options);\n\n    // Ensure directory exists\n    await fs.ensureDir(path.dirname(configPath));\n\n    // Read existing content or create new\n    let content = '';\n    if (await fs.pathExists(configPath)) {\n      content = await fs.readFile(configPath, 'utf-8');\n    }\n\n    const startMarker = getStartMarker(skill.slug);\n    const endMarker = getEndMarker(skill.slug);\n\n    // Create skill section\n    const skillSection = `\\n\\n${startMarker}\\n# Skill: ${skill.name}\\n\\n> Installed from SkillHub marketplace\\n\\n${endMarker}`;\n\n    // Remove old version if exists\n    const regex = new RegExp(\n      `\\\\n*${startMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}[\\\\\\\\s\\\\\\\\S]*?${endMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}`,\n      'g'\n    );\n    content = content.replace(regex, '');\n\n    // Append new skill\n    await fs.writeFile(configPath, content + skillSection);\n\n    return configPath;\n  },\n\n  async uninstall(skillSlug: string, options: InstallOptions): Promise<boolean> {\n    const configPath = getConfigPath(options);\n\n    if (!(await fs.pathExists(configPath))) {\n      return false;\n    }\n\n    const content = await fs.readFile(configPath, 'utf-8');\n    const startMarker = getStartMarker(skillSlug);\n    const endMarker = getEndMarker(skillSlug);\n\n    const regex = new RegExp(\n      `\\\\n*${startMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}[\\\\\\\\s\\\\\\\\S]*?${endMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}`,\n      'g'\n    );\n    const newContent = content.replace(regex, '');\n\n    if (newContent !== content) {\n      await fs.writeFile(configPath, newContent);\n      return true;\n    }\n\n    return false;\n  },\n\n  async isInstalled(skillSlug: string, options: InstallOptions): Promise<boolean> {\n    const configPath = getConfigPath(options);\n\n    if (!(await fs.pathExists(configPath))) {\n      return false;\n    }\n\n    const content = await fs.readFile(configPath, 'utf-8');\n    const startMarker = getStartMarker(skillSlug);\n\n    return content.includes(startMarker);\n  },\n};\n","import * as fs from 'fs-extra';\nimport * as path from 'path';\nimport * as os from 'os';\nimport type { Agent, ConfigPath, InstallOptions } from './types.js';\nimport type { InstalledSkill } from '../api/types.js';\n\nconst configPaths: ConfigPath[] = [\n  { type: 'project', path: '.cursor', filename: 'rules' },\n  { type: 'global', path: '.cursor', filename: 'rules' },\n];\n\nfunction getConfigPath(options: InstallOptions): string {\n  if (options.global) {\n    return path.join(os.homedir(), '.cursor', 'rules');\n  }\n  const projectRoot = options.projectRoot || process.cwd();\n  return path.join(projectRoot, '.cursor', 'rules');\n}\n\nfunction getStartMarker(slug: string): string {\n  return `<!-- SKILLHUB:START:${slug} -->`;\n}\n\nfunction getEndMarker(slug: string): string {\n  return `<!-- SKILLHUB:END:${slug} -->`;\n}\n\nexport const cursorAgent: Agent = {\n  name: 'Cursor',\n  id: 'cursor',\n  configPaths,\n  format: 'markdown',\n\n  async install(skill: InstalledSkill, options: InstallOptions): Promise<string> {\n    const configPath = getConfigPath(options);\n\n    // Ensure directory exists\n    await fs.ensureDir(path.dirname(configPath));\n\n    // Read existing content or create new\n    let content = '';\n    if (await fs.pathExists(configPath)) {\n      content = await fs.readFile(configPath, 'utf-8');\n    }\n\n    const startMarker = getStartMarker(skill.slug);\n    const endMarker = getEndMarker(skill.slug);\n\n    // Create skill section\n    const skillSection = `\\n\\n${startMarker}\\n# Skill: ${skill.name}\\n\\n> Installed from SkillHub marketplace\\n\\n${endMarker}`;\n\n    // Remove old version if exists\n    const regex = new RegExp(\n      `\\\\n*${startMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}[\\\\\\\\s\\\\\\\\S]*?${endMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}`,\n      'g'\n    );\n    content = content.replace(regex, '');\n\n    // Append new skill\n    await fs.writeFile(configPath, content + skillSection);\n\n    return configPath;\n  },\n\n  async uninstall(skillSlug: string, options: InstallOptions): Promise<boolean> {\n    const configPath = getConfigPath(options);\n\n    if (!(await fs.pathExists(configPath))) {\n      return false;\n    }\n\n    const content = await fs.readFile(configPath, 'utf-8');\n    const startMarker = getStartMarker(skillSlug);\n    const endMarker = getEndMarker(skillSlug);\n\n    const regex = new RegExp(\n      `\\\\n*${startMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}[\\\\\\\\s\\\\\\\\S]*?${endMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}`,\n      'g'\n    );\n    const newContent = content.replace(regex, '');\n\n    if (newContent !== content) {\n      await fs.writeFile(configPath, newContent);\n      return true;\n    }\n\n    return false;\n  },\n\n  async isInstalled(skillSlug: string, options: InstallOptions): Promise<boolean> {\n    const configPath = getConfigPath(options);\n\n    if (!(await fs.pathExists(configPath))) {\n      return false;\n    }\n\n    const content = await fs.readFile(configPath, 'utf-8');\n    const startMarker = getStartMarker(skillSlug);\n\n    return content.includes(startMarker);\n  },\n};\n","import * as fs from 'fs-extra';\nimport * as path from 'path';\nimport type { Agent, ConfigPath, InstallOptions } from './types.js';\nimport type { InstalledSkill } from '../api/types.js';\n\nconst configPaths: ConfigPath[] = [\n  { type: 'project', path: '.github', filename: 'copilot-instructions.md' },\n];\n\nfunction getConfigPath(options: InstallOptions): string {\n  const projectRoot = options.projectRoot || process.cwd();\n  return path.join(projectRoot, '.github', 'copilot-instructions.md');\n}\n\nfunction getStartMarker(slug: string): string {\n  return `<!-- SKILLHUB:START:${slug} -->`;\n}\n\nfunction getEndMarker(slug: string): string {\n  return `<!-- SKILLHUB:END:${slug} -->`;\n}\n\nexport const copilotAgent: Agent = {\n  name: 'GitHub Copilot',\n  id: 'copilot',\n  configPaths,\n  format: 'markdown',\n\n  async install(skill: InstalledSkill, options: InstallOptions): Promise<string> {\n    const configPath = getConfigPath(options);\n\n    // Ensure directory exists\n    await fs.ensureDir(path.dirname(configPath));\n\n    // Read existing content or create new\n    let content = '';\n    if (await fs.pathExists(configPath)) {\n      content = await fs.readFile(configPath, 'utf-8');\n    }\n\n    const startMarker = getStartMarker(skill.slug);\n    const endMarker = getEndMarker(skill.slug);\n\n    // Create skill section\n    const skillSection = `\\n\\n${startMarker}\\n# Skill: ${skill.name}\\n\\n> Installed from SkillHub marketplace\\n\\n${endMarker}`;\n\n    // Remove old version if exists\n    const regex = new RegExp(\n      `\\\\n*${startMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}[\\\\\\\\s\\\\\\\\S]*?${endMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}`,\n      'g'\n    );\n    content = content.replace(regex, '');\n\n    // Append new skill\n    await fs.writeFile(configPath, content + skillSection);\n\n    return configPath;\n  },\n\n  async uninstall(skillSlug: string, options: InstallOptions): Promise<boolean> {\n    const configPath = getConfigPath(options);\n\n    if (!(await fs.pathExists(configPath))) {\n      return false;\n    }\n\n    const content = await fs.readFile(configPath, 'utf-8');\n    const startMarker = getStartMarker(skillSlug);\n    const endMarker = getEndMarker(skillSlug);\n\n    const regex = new RegExp(\n      `\\\\n*${startMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}[\\\\\\\\s\\\\\\\\S]*?${endMarker.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g, '\\\\\\\\$&')}`,\n      'g'\n    );\n    const newContent = content.replace(regex, '');\n\n    if (newContent !== content) {\n      await fs.writeFile(configPath, newContent);\n      return true;\n    }\n\n    return false;\n  },\n\n  async isInstalled(skillSlug: string, options: InstallOptions): Promise<boolean> {\n    const configPath = getConfigPath(options);\n\n    if (!(await fs.pathExists(configPath))) {\n      return false;\n    }\n\n    const content = await fs.readFile(configPath, 'utf-8');\n    const startMarker = getStartMarker(skillSlug);\n\n    return content.includes(startMarker);\n  },\n};\n","import { registerAgent } from './types.js';\nimport { claudeCodeAgent } from './claude-code.js';\nimport { cursorAgent } from './cursor.js';\nimport { copilotAgent } from './copilot.js';\n\n// Register all agents\nregisterAgent(claudeCodeAgent);\nregisterAgent(cursorAgent);\nregisterAgent(copilotAgent);\n\n// Re-export\nexport * from './types.js';\nexport { claudeCodeAgent } from './claude-code.js';\nexport { cursorAgent } from './cursor.js';\nexport { copilotAgent } from './copilot.js';\n","import chalk from 'chalk';\nimport ora from 'ora';\nimport { confirm, checkbox } from '@inquirer/prompts';\nimport { apiRequest, isAuthenticated, downloadFile, getConfig } from '../api/client.js';\nimport { addInstalledSkill, getInstalledSkill } from '../config/manager.js';\nimport { getAllAgents, getAgent } from '../agents/index.js';\nimport type { SkillListResponse, InstalledSkill } from '../api/types.js';\n\ninterface AddOptions {\n  agents?: string[];\n  global?: boolean;\n  version?: string;\n  all?: boolean;\n}\n\nasync function downloadSkill(skillId: string, version?: string): Promise<{ buffer: Buffer; version: string }> {\n  const cfg = getConfig();\n  let url = `${cfg.apiUrl}/api/skills/${skillId}/download?type=full`;\n  if (version) {\n    url += `&version=${version}`;\n  }\n\n  const buffer = await downloadFile(url);\n\n  return { buffer, version: version || 'latest' };\n}\n\nexport async function add(skillSlug: string, options: AddOptions = {}): Promise<void> {\n  // Check authentication\n  if (!isAuthenticated()) {\n    console.log(chalk.red('You must be logged in to install skills.'));\n    console.log(chalk.gray('Run `skillhub login` first.'));\n    process.exit(1);\n  }\n\n  // Find skill\n  const spinner = ora(`Finding skill \"${skillSlug}\"...`).start();\n\n  const params = new URLSearchParams();\n  params.set('search', skillSlug);\n  params.set('limit', '1');\n\n  const response = await apiRequest<SkillListResponse>(`/api/skills?${params.toString()}`);\n\n  if (response.error || !response.data?.skills?.length) {\n    spinner.fail('Skill not found');\n    console.log(chalk.red(response.error?.error || `Skill \"${skillSlug}\" not found`));\n    process.exit(1);\n  }\n\n  const skill = response.data.skills[0];\n  spinner.succeed(`Found skill: ${skill.name}`);\n\n  // Check if already installed\n  const existing = getInstalledSkill(skill.slug);\n  if (existing) {\n    console.log(chalk.yellow(`Skill \"${skill.slug}\" is already installed.`));\n    const shouldUpdate = await confirm({\n      message: 'Do you want to reinstall/update it?',\n      default: false,\n    });\n    if (!shouldUpdate) {\n      return;\n    }\n  }\n\n  // Determine which agents to install to\n  let targetAgents = options.agents || [];\n\n  if (options.all) {\n    targetAgents = getAllAgents().map((a) => a.id);\n  } else if (targetAgents.length === 0) {\n    const agentChoices = getAllAgents().map((agent) => ({\n      name: `${agent.name} (${agent.id})`,\n      value: agent.id,\n      checked: agent.id === 'claude-code',\n    }));\n\n    targetAgents = await checkbox({\n      message: 'Select agents to install to:',\n      choices: agentChoices,\n      required: true,\n    });\n  }\n\n  // Validate agents\n  for (const agentId of targetAgents) {\n    if (!getAgent(agentId)) {\n      console.log(chalk.red(`Unknown agent: ${agentId}`));\n      console.log(chalk.gray(`Available agents: ${getAllAgents().map((a) => a.id).join(', ')}`));\n      process.exit(1);\n    }\n  }\n\n  // Download skill\n  spinner.start('Downloading skill package...');\n  const downloadResult = await downloadSkill(skill.id, options.version);\n  spinner.succeed('Skill package downloaded');\n\n  // Install to each agent\n  const installedPaths: Record<string, string> = {};\n  const installOptions = { global: options.global };\n\n  for (const agentId of targetAgents) {\n    const agent = getAgent(agentId);\n    if (!agent) continue;\n\n    spinner.start(`Installing to ${agent.name}...`);\n\n    const installedSkill: InstalledSkill = {\n      name: skill.name,\n      slug: skill.slug,\n      version: skill.versions?.[0]?.version || downloadResult.version,\n      skillId: skill.id,\n      installedAt: new Date().toISOString(),\n      installedTo: [agentId],\n      paths: {},\n    };\n\n    try {\n      const configPath = await agent.install(installedSkill, installOptions);\n      installedPaths[agentId] = configPath;\n      spinner.succeed(`Installed to ${agent.name}`);\n    } catch (err) {\n      spinner.fail(`Failed to install to ${agent.name}`);\n      console.log(chalk.red(err instanceof Error ? err.message : 'Unknown error'));\n    }\n  }\n\n  // Update installed skills manifest\n  const finalInstalledSkill: InstalledSkill = {\n    name: skill.name,\n    slug: skill.slug,\n    version: skill.versions?.[0]?.version || downloadResult.version,\n    skillId: skill.id,\n    installedAt: new Date().toISOString(),\n    installedTo: targetAgents,\n    paths: installedPaths,\n  };\n\n  addInstalledSkill(finalInstalledSkill);\n\n  console.log();\n  console.log(chalk.green('Skill installed successfully!'));\n  console.log();\n  console.log(chalk.gray('Installed to:'));\n  for (const [agentId, configPath] of Object.entries(installedPaths)) {\n    console.log(chalk.gray(`  ${agentId}: ${configPath}`));\n  }\n}\n","import chalk from 'chalk';\nimport ora from 'ora';\nimport { confirm, checkbox } from '@inquirer/prompts';\nimport { removeInstalledSkill, getInstalledSkill } from '../config/manager.js';\nimport { getAgent } from '../agents/index.js';\n\ninterface RemoveOptions {\n  global?: boolean;\n  agents?: string[];\n  all?: boolean;\n}\n\nexport async function remove(skillSlug: string, options: RemoveOptions = {}): Promise<void> {\n  // Check if skill is installed\n  const installed = getInstalledSkill(skillSlug);\n\n  if (!installed) {\n    console.log(chalk.yellow(`Skill \"${skillSlug}\" is not installed.`));\n    return;\n  }\n\n  // Determine which agents to remove from\n  let targetAgents = options.agents || [];\n\n  if (options.all) {\n    targetAgents = installed.installedTo;\n  } else if (targetAgents.length === 0) {\n    targetAgents = installed.installedTo;\n\n    if (targetAgents.length > 1) {\n      const agentChoices = targetAgents.map((agentId) => {\n        const agent = getAgent(agentId);\n        return {\n          name: `${agent?.name || agentId} (${agentId})`,\n          value: agentId,\n          checked: true,\n        };\n      });\n\n      targetAgents = await checkbox({\n        message: 'Select agents to remove from:',\n        choices: agentChoices,\n      });\n    }\n  }\n\n  if (targetAgents.length === 0) {\n    console.log(chalk.yellow('No agents selected.'));\n    return;\n  }\n\n  // Confirm removal\n  const shouldConfirm = await confirm({\n    message: `Remove \"${skillSlug}\" from ${targetAgents.join(', ')}?`,\n    default: true,\n  });\n\n  if (!shouldConfirm) {\n    console.log(chalk.gray('Cancelled.'));\n    return;\n  }\n\n  const installOptions = { global: options.global };\n\n  // Remove from each agent\n  for (const agentId of targetAgents) {\n    const agent = getAgent(agentId);\n    if (!agent) {\n      console.log(chalk.yellow(`Unknown agent: ${agentId}`));\n      continue;\n    }\n\n    const spinner = ora(`Removing from ${agent.name}...`).start();\n\n    try {\n      const removed = await agent.uninstall(skillSlug, installOptions);\n      if (removed) {\n        spinner.succeed(`Removed from ${agent.name}`);\n      } else {\n        spinner.warn(`Not found in ${agent.name}`);\n      }\n    } catch (err) {\n      spinner.fail(`Failed to remove from ${agent.name}`);\n      console.log(chalk.red(err instanceof Error ? err.message : 'Unknown error'));\n    }\n  }\n\n  // Update installed skills manifest\n  const remainingAgents = installed.installedTo.filter((a) => !targetAgents.includes(a));\n\n  if (remainingAgents.length === 0) {\n    removeInstalledSkill(skillSlug);\n    console.log();\n    console.log(chalk.green(`Skill \"${skillSlug}\" removed completely.`));\n  } else {\n    console.log();\n    console.log(chalk.green(`Skill \"${skillSlug}\" removed from selected agents.`));\n    console.log(chalk.gray(`Still installed to: ${remainingAgents.join(', ')}`));\n  }\n}\n"],"mappings":"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","names":["chalk","chalk","chalk","chalk","ora","ora","chalk","chalk","Table","Conf","fs","path","os","configPaths","getConfigPath","getStartMarker","getEndMarker","fs","path","configPaths","getConfigPath","getStartMarker","getEndMarker","chalk","Table","chalk","ora","confirm","chalk","ora","confirm","chalk","ora","confirm","checkbox","chalk","checkbox","confirm","ora","chalk"]}